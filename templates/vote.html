{% extends "base.html" %}
{% block title %}Vote{% endblock %}
{% block content %}
<h2>Cast Your Vote</h2>
<p>Rank the candidates from your most preferred (1st) to least preferred.</p>
<form method="POST">
    <div class="preference-list">
        {% for i in range(1, candidates|length + 1) %}
            <div class="preference-item">
                <label for="pref{{ i }}">{{ i }}. Preference:</label>
                <select id="pref{{ i }}" name="pref{{ i }}">
                    <option value="">-- Select Candidate --</option>
                    {% for candidate in candidates %}
                        <option value="{{ candidate }}">{{ candidate }}</option>
                    {% endfor %}
                </select>
            </div>
        {% endfor %}
    </div>
    {% if error %}
        <p class="error">{{ error }}</p>
    {% endif %}
    <button type="submit">Submit Vote</button>
</form>
{% endblock %}